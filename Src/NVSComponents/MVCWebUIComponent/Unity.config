<unity xmlns="http://schemas.microsoft.com/practices/2010/unity">

  <!--Some tips-->
  <!--IExample`2[[],[]] is the syntax for 2 generic attributes IExample<A,B>-->
  <!--/Some tips-->

  <alias alias="TransparentProxy" type="Microsoft.Practices.Unity.InterceptionExtension.TransparentProxyInterceptor, Microsoft.Practices.Unity.Interception" />
  <alias alias="InterfaceInterceptor" type="Microsoft.Practices.Unity.InterceptionExtension.InterfaceInterceptor, Microsoft.Practices.Unity.Interception" />
  <!-- AOP stuff. Maybe needed when we start logging etc
      <alias alias="typeMatchingRule" type="Microsoft.Practices.Unity.InterceptionExtension.TypeMatchingRule, Microsoft.Practices.Unity.Interception" />
      -->

  <!-- Lifetime manager types -->
  <alias alias="singleton" type="Microsoft.Practices.Unity.ContainerControlledLifetimeManager, Microsoft.Practices.Unity" />
  <alias alias="external" type="Microsoft.Practices.Unity.ExternallyControlledLifetimeManager, Microsoft.Practices.Unity" />
  <!--Copied code from http://weblogs.asp.net/rashid/archive/2009/02/15/asp-net-mvc-unity-and-common-service-locator.aspx-->

  <!--User-->
  <alias alias="IUserCheckAccess" type="Volvo.POS.UserDomain.DomainLayer.IUserCheckAccess, UserDomain.Services" />
  <alias alias="IUserAuthorizationService" type="Volvo.POS.UserDomain.ServiceLayer.IUserAuthorizationService, UserDomain.Services" />
  <alias alias="userAuthorization" type="Volvo.POS.UserDomain.DomainLayer.UserAuthorizationService, UserDomain.Services" />
  
  <alias alias="IUserService" type="Volvo.POS.UserDomain.ServiceLayer.IUserService, UserDomain.Services" />
  <alias alias="userService" type="Volvo.POS.UserDomain.DomainLayer.UserService, UserDomain.Services" />

  <alias alias="IUserRepository" type="Volvo.POS.UserDomain.DomainLayer.RepositoryInterfaces.IUserRepository, UserDomain.Model" />
  <alias alias="userRepository" type="Volvo.POS.UserDomain.InfrastructureLayer.Repositories.UserRepository, UserDomain.Infrastructure" />

  <alias alias="IClaimsProviderCache" type="Volvo.POS.UserDomain.ServiceLayer.IClaimsProviderCache, UserDomain.Services" />
  <!--/User-->

  <!--Proxy/Gateway Component-->
  <alias alias="IWarehouseRequestService" type="Volvo.POS.Proxy.Warehouse.RequestReply.IWarehouseRequestService, WarehouseProxy.RequestReply" />
  <alias alias="WarehouseRequestService" type="Volvo.POS.Proxy.Warehouse.RequestReply.WarehouseRequestService, WarehouseProxy.RequestReply" />
  <alias alias="IGatewayFireService" type="Volvo.POS.Gateway.Fire.IGatewayFireService, POSGateway.Fire" />
  <alias alias="GatewayFireService" type="Volvo.POS.Gateway.Fire.GatewayFireService, POSGateway.Fire" />


  <!--Order domain-->
  <alias alias="IOrderCheckAccess" type="Volvo.POS.OrderDomain.DomainLayer.IOrderCheckAccess, OrderDomain.Services" />
  <alias alias="IOrderAuthorizationService" type="Volvo.POS.OrderDomain.ServiceLayer.IOrderAuthorizationService, OrderDomain.Services" />
  <alias alias="orderAuthorization" type="Volvo.POS.OrderDomain.DomainLayer.OrderAuthorizationService, OrderDomain.Services" />
  
  <alias alias="IOrderService" type="Volvo.POS.OrderDomain.ServiceLayer.IOrderService, OrderDomain.Services" />
  <alias alias="orderService" type="Volvo.POS.OrderDomain.DomainLayer.OrderService, OrderDomain.Services" />

  <alias alias="IOrderReportsService" type="Volvo.POS.OrderDomain.ServiceLayer.IOrderReportsService, OrderDomain.Services" />
  <alias alias="orderReportsService" type="Volvo.POS.OrderDomain.DomainLayer.OrderReportsService, OrderDomain.Services" />

  <alias alias="IOrderRepository" type="Volvo.POS.OrderDomain.DomainLayer.RepositoryInterfaces.IOrderRepository, OrderDomain.Model" />
  <alias alias="orderRepository" type="Volvo.POS.OrderDomain.InfrastructureLayer.Repositories.OrderRepository, OrderDomain.Infrastructure" />

  <alias alias="IOrderReportsRepository" type="Volvo.POS.OrderDomain.DomainLayer.RepositoryInterfaces.IOrderReportsRepository, OrderDomain.Model" />
  <alias alias="orderReportsRepository" type="Volvo.POS.OrderDomain.InfrastructureLayer.Repositories.OrderReportsRepository, OrderDomain.Infrastructure" />

  <alias alias="ICountryRepository" type="Volvo.POS.OrderDomain.DomainLayer.RepositoryInterfaces.ICountryRepository, OrderDomain.Model" />
  <alias alias="countryRepository" type="Volvo.POS.OrderDomain.InfrastructureLayer.Repositories.CountryRepository, OrderDomain.Infrastructure" />
  
  <!--/Order domain-->

  <!--Part domain -->
  <alias alias="IPartService" type="Volvo.POS.PartDomain.ServiceLayer.IPartService, PartDomain.Services" />
  <alias alias="partService" type="Volvo.POS.PartDomain.DomainLayer.PartService, PartDomain.Services" />

  <alias alias="IPartRepository" type="Volvo.POS.PartDomain.DomainLayer.RepositoryInterfaces.IPartRepository, PartDomain.Model" />
  <alias alias="partRepository" type="Volvo.POS.PartDomain.InfrastructureLayer.Repositories.PartRepository, PartDomain.Infrastructure" />
  <!--/Part domain -->

  <!--Utilities-->
  <alias alias="IBundleCollectionService" type="Volvo.NVS.Utilities.Web.Bundling.IBundleCollectionService, Volvo.NVS.Utilities.Web" />
  <alias alias="bundleCollectionService" type="Volvo.POS.MVCWebUIComponent.Bundling.PosBundleCollectionService, MVCWebUIComponent" />
  <alias alias="ICultureResolver" type="Volvo.NVS.Utilities.Web.Localization.Culture.ICultureResolver, Volvo.NVS.Utilities.Web" />
  <alias alias="posCultureResolver" type="Volvo.POS.MVCWebUIComponent.Common.Culture.PosCultureResolver, MVCWebUIComponent" />
  <alias alias="ILocalizationHelper" type="Volvo.NVS.Utilities.Web.Localization.ILocalizationHelper, Volvo.NVS.Utilities.Web" />
  <alias alias="localizationHelper" type="Volvo.NVS.Utilities.Web.Localization.LocalizationHelper, Volvo.NVS.Utilities.Web" />
  <alias alias="ISessionHelper" type="Volvo.NVS.Utilities.Web.Session.ISessionHelper, Volvo.NVS.Utilities.Web" />
  <alias alias="sessionHelper" type="Volvo.NVS.Utilities.Web.Session.SessionHelper, Volvo.NVS.Utilities.Web" />
  <alias alias="ISessionSettingsProvider" type="Volvo.NVS.Utilities.Web.Session.ISessionSettingsProvider, Volvo.NVS.Utilities.Web" />
  <alias alias="sessionSettingsProvider" type="Volvo.NVS.Utilities.Web.Session.SessionSettingsProvider, Volvo.NVS.Utilities.Web" />
  
  <!--/Utilities-->

  <!--Security-->
  <alias alias="IClaimsService" type="Volvo.NVS.Security.Claims.IClaimsService, Volvo.NVS.Security" />
  <alias alias="webClaimsService" type="Volvo.NVS.Security.SystemWeb.Claims.WebClaimsService, Volvo.NVS.Security.SystemWeb" />
  <alias alias="IClaimsProvider" type="Volvo.NVS.Security.Claims.IClaimsProvider, Volvo.NVS.Security" />
  <!--/Security-->

  <!--MVCWebUI-->
  <alias alias="IBundlingHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.IBundlingHelper, MVCWebUIComponent" />
  <alias alias="bundlingHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.BundlingHelper, MVCWebUIComponent" />
  
  <alias alias="IThemesHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.IThemesHelper, MVCWebUIComponent" />
  <alias alias="themesHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.ThemesHelper, MVCWebUIComponent" />
  
  <alias alias="IPosSessionHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.IPosSessionHelper, MVCWebUIComponent" />
  <alias alias="posSessionHelper" type="Volvo.POS.MVCWebUIComponent.Common.Helpers.PosSessionHelper, MVCWebUIComponent" />
  <!--/MVCWebUI-->

  <!--AutoMapper-->
  <alias alias="Profile" type="AutoMapper.Profile, AutoMapper" />
  <!--/AutoMapper-->

  <container>
    <!--Proxy/Gateway Component-->
    <register type="IWarehouseRequestService" mapTo="WarehouseRequestService" />
    <register type="IGatewayFireService" mapTo="GatewayFireService" />

    <!--OrderDomain-->
    <register type="IOrderCheckAccess" mapTo="orderAuthorization" />
    <register type="IOrderAuthorizationService" mapTo="orderAuthorization" />
    <register type="IOrderService" mapTo="orderService" />
    <register type="IOrderRepository" mapTo="orderRepository" />
    <register type="IOrderReportsService" mapTo="orderReportsService" />
    <register type="IOrderReportsRepository" mapTo="orderReportsRepository" />
    <register type="ICountryRepository" mapTo="countryRepository" />

    <!--UserDomain-->
    <register type="IUserCheckAccess" mapTo="userAuthorization" />
    <register type="IUserAuthorizationService" mapTo="userAuthorization" />
    <register type="IUserService" mapTo="userService"/>
    <register type="IUserRepository" mapTo="userRepository" />
    <register type="IClaimsProviderCache" mapTo="userService"/>
    
    <!--PartDomain-->
    <register type="IPartService" mapTo="partService" />
    <register type="IPartRepository" mapTo="partRepository" />

    <!--NVS Integration for WebSpehere MQ-->
    <register name="mqin"
             type="Volvo.NVS.Integration.IInputChannel, Volvo.NVS.Integration"
             mapTo="Volvo.NVS.Integration.WebsphereMQ.InputChannel, Volvo.NVS.Integration.WebsphereMQ"/>
    <register name="mqout"
              type="Volvo.NVS.Integration.IOutputChannel, Volvo.NVS.Integration"
              mapTo="Volvo.NVS.Integration.WebsphereMQ.OutputChannel, Volvo.NVS.Integration.WebsphereMQ"/>
    <register name="mqrep"
              type="Volvo.NVS.Integration.IReplyChannel, Volvo.NVS.Integration"
              mapTo="Volvo.NVS.Integration.WebsphereMQ.ReplyChannel, Volvo.NVS.Integration.WebsphereMQ"/>
    
    <!--Utilities-->
    <register type="IBundleCollectionService" mapTo="bundleCollectionService" />
    <register type="ICultureResolver" mapTo="posCultureResolver" />
    <register type="ILocalizationHelper" mapTo="localizationHelper" >
      <lifetime type="singleton"/>
    </register>
    <register type="ISessionHelper" mapTo="sessionHelper" />
    <register type="ISessionSettingsProvider" mapTo="sessionSettingsProvider" />

    <!--Security-->
    <register type="IClaimsService" mapTo="webClaimsService" />
    <register type="IClaimsProvider" mapTo="userService" />
    
    <!--MVCWebUI-->
    <register type="IPosSessionHelper" mapTo="posSessionHelper" />
    <register type="IBundlingHelper" mapTo="bundlingHelper" />
    <register type="IThemesHelper" mapTo="themesHelper" />

    <!--AutoMapper Mappings/Profiles-->
    <register name="OrderDomainMvcProfile" type="Profile" mapTo="Volvo.POS.MVCWebUIComponent.Models.Translators.OrderDomainMvcProfile, MVCWebUIComponent" />
    <register name="PartDomainMvcProfile" type="Profile" mapTo="Volvo.POS.MVCWebUIComponent.Models.Translators.PartDomainMvcProfile, MVCWebUIComponent" />
    <register name="UserDomainMvcProfile" type="Profile" mapTo="Volvo.POS.MVCWebUIComponent.Models.Translators.UserDomainMvcProfile, MVCWebUIComponent" />
    <register name="WarehouseFireProfile" type="Profile" mapTo="Volvo.POS.Proxy.Warehouse.RequestReply.Translators.WarehouseRequestProfile, WarehouseProxy.RequestReply" />
    
  </container>
  
</unity>
